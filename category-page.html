<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Shop | eStore</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/LineIcons.css">
    <link rel="stylesheet" href="assets/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="assets/css/jquery-ui.min.css">
    <link rel="stylesheet" href="assets/css/nice-select.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/default.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/category-page.css?v=7"> 
</head>
<body>

    <div class="preloader">
         <div class="loader">
            <div class="ytp-spinner">
                <div class="ytp-spinner-container">
                    <div class="ytp-spinner-rotator">
                        <div class="ytp-spinner-left">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                        <div class="ytp-spinner-right">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="navbar-placeholder"></div>

    <section class="breadcrumbs-wrapper pt-50 pb-50 bg-primary-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs-style breadcrumbs-style-1 d-md-flex justify-content-between align-items-center">
                        <div class="breadcrumb-left">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Category</li>
                            </ol>
                        </div>
                        <div class="breadcrumb-right">
                            <h5 class="heading-5 font-weight-500">Category</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="category-page-wrapper pt-70 pb-100">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-3">
                    <div class="category-sidebar-wrapper">
                        <div class="filter-widget">
                            <div class="widget-header d-flex justify-content-between align-items-center">
                                <h5 class="title">Filter</h5>
                                <a href="#" class="reset-btn">RESET</a>
                            </div>
                            <div class="widget-header" style="border-top: 1px solid #f0f0f0; margin-top: 15px;">
                                <a class="widget-toggle-btn" data-bs-toggle="collapse" href="#filterPrice" role="button" aria-expanded="true">
                                    Pricing Range <i class="mdi mdi-chevron-down"></i>
                                </a>
                            </div>
                            <div class="collapse show" id="filterPrice">
                                <div class="widget-content">
                                    <div class="price-range-slider">
                                        <div id="slider-range"></div>
                                        <div class="price-inputs d-flex justify-content-between align-items-center mt-3">
                                            <span>Minimum Price:<br><strong id="amount-min">$300</strong></span>
                                            <span>Maximum Price:<br><strong id="amount-max">$1200</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="filter-widget">
                            <div class="widget-header">
                                <a class="widget-toggle-btn" data-bs-toggle="collapse" href="#filterType" role="button" aria-expanded="true">
                                    Type <i class="mdi mdi-chevron-down"></i>
                                </a>
                            </div>
                            <div class="collapse show" id="filterType">
                                <div class="widget-content">
                                    <ul class="filter-checkbox-list">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="type1" checked>
                                                <label class="form-check-label" for="type1">Standalone</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="type2">
                                                <label class="form-check-label" for="type2">Mobile</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="type3">
                                                <label class="form-check-label" for="type3">Tethered</label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="filter-widget">
                            <div class="widget-header">
                                <a class="widget-toggle-btn" data-bs-toggle="collapse" href="#filterSize" role="button" aria-expanded="true">
                                    Select Size <i class="mdi mdi-chevron-down"></i>
                                </a>
                            </div>
                            <div class="collapse show" id="filterSize">
                                <div class="widget-content">
                                    <ul class="filter-size-list">
                                        <li><a href="#" class="active">XS</a></li>
                                        <li><a href="#">S</a></li>
                                        <li><a href="#">M</a></li>
                                        <li><a href="#">L</a></li>
                                        <li><a href="#">XL</a></li>
                                        <li><a href="#">XXL</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="filter-widget">
                            <div class="widget-header">
                                <a class="widget-toggle-btn" data-bs-toggle="collapse" href="#filterColor" role="button" aria-expanded="true">
                                    Select Color
                                    <i class="mdi mdi-chevron-down"></i>
                                </a>
                            </div>
                            <div class="collapse show" id="filterColor">
                                <div class="widget-content">
                                    <ul class="filter-color-list">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input color-check" type="checkbox" id="colorBlue" style="background-color: #007bff;">
                                                <label class="form-check-label" for="colorBlue">Blue</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input color-check" type="checkbox" id="colorRed" style="background-color: #dc3545;">
                                                <label class="form-check-label" for="colorRed">Red</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input color-check" type="checkbox" id="colorGreen" style="background-color: #28a745;">
                                                <label class="form-check-label" for="colorGreen">Green</label>
                                            </div>
                                        </li>
                                         <li>
                                            <div class="form-check">
                                                <input class="form-check-input color-check" type="checkbox" id="colorDark" style="background-color: #343a40;">
                                                <label class="form-check-label" for="colorDark">Dark</label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    
                    <div class="category-header d-flex justify-content-between align-items-center">
                        <p class="results-text">Showing 01-09 of 17 Results</p>
                        <div class="category-top-right d-flex align-items-center">
                            <button id="grid-view" class="btn btn-outline-secondary active me-2">
                              <i class="mdi mdi-view-grid"></i>
                            </button>
                            <button id="list-view" class="btn btn-outline-secondary">
                              <i class="mdi mdi-view-list"></i>
                            </button>
                        </div>
                    </div>

                    <div class="category-products-wrapper">
                        <div class="row grid-view" id="product-container">
                            
                            <div class="product-item-wrapper col-lg-6 col-md-6"> <div class="product-style-1 mt-30">
                                    <div class="product-image">
                                        <div class="product-active">
                                            <div class="product-item active"><img src="assets/images/product-1/product-1.jpg" alt="product"></div>
                                            <div class="product-item"><img src="assets/images/product-1/product-2.jpg" alt="product"></div>
                                        </div>
                                        <a class="add-wishlist" href="javascript:void(0)"><i class="mdi mdi-heart-outline"></i></a>
                                    </div>
                                    <div class="product-content text-center">
                                        <h4 class="title"><a href="product-details-page.html">Metro 38 Date</a></h4>
                                        <p>Reference 1102</p>
                                        <a href="javascript:void(0)" class="main-btn secondary-1-btn">
                                            <img src="assets/images/icon-svg/cart-7.svg" alt=""> $ 399
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-item-wrapper col-lg-6 col-md-6"> <div class="product-style-1 mt-30">
                                    <div class="product-image">
                                        <div class="product-active">
                                            <div class="product-item active"><img src="assets/images/product-1/product-5.jpg" alt="product"></div>
                                            <div class="product-item"><img src="assets/images/product-1/product-6.jpg" alt="product"></div>
                                        </div>
                                        <a class="add-wishlist" href="javascript:void(0)"><i class="mdi mdi-heart-outline"></i></a>
                                    </div>
                                    <div class="product-content text-center">
                                        <h4 class="title"><a href="product-details-page.html">Lady Shoe</a></h4>
                                        <p>Reference 1103</p>
                                        <a href="javascript:void(0)" class="main-btn secondary-1-btn">
                                            <img src="assets/images/icon-svg/cart-7.svg" alt=""> $ 399
                                        </a>
                                    </div>
                                </div>
                            </div>

                            </div>
                    </div>

                    <div class="pagination-wrapper">
                        <ul class="pagination justify-content-center">
                            <li class="page-item"><a class="page-link" href="#"><i class="mdi mdi-chevron-left"></i></a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#"><i class="mdi mdi-chevron-right"></i></a></li>
                        </ul>
                    </div>
                    </div>
            </div>
        </div>
    </section>
    
    <div id="footer-placeholder"></div>

    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="assets/js/vendor/modernizr-3.7.1.min.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/jquery-vj-accordion-steps.js"></script>
    <script src="assets/js/jquery-ui.min.js"></script>
    <script src="assets/js/jquery.form-validator.min.js"></script>
    <script src="assets/js/jquery.nice-select.min.js"></script>
    <script src="assets/js/jquery.formatter.min.js"></script>
    <script src="assets/js/count-up.min.js"></script>
    <script src="assets/js/main.js"></script>


    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            // --- 1. تشغيل سكريبتات الصفحة (سلايدر السعر) ---
            try {
                if ($.fn.slider) {
                    $( "#slider-range" ).slider({
                        range: true, min: 0, max: 1500, values: [ 300, 1200 ],
                        slide: function( event, ui ) {
                            $( "#amount-min" ).text( "$" + ui.values[ 0 ] );
                            $( "#amount-max" ).text( "$" + ui.values[ 1 ] );
                        }
                    });
                    $( "#amount-min" ).text( "$" + $( "#slider-range" ).slider( "values", 0 ) );
                    $( "#amount-max" ).text( "$" + $( "#slider-range" ).slider( "values", 1 ) );
                } else {
                    console.warn('jQuery UI slider not found.');
                }
            } catch (e) {
                console.error("Error initializing page scripts: ", e);
            }

            // --- 2. تحميل الناف بار ---
            const navbarPlaceholder = document.getElementById("navbar-placeholder");
            if (navbarPlaceholder) {
                fetch('_navbar.html')
                    .then(response => response.text())
                    .then(data => {
                        navbarPlaceholder.innerHTML = data;
                        // ... (كود تشغيل النايس سيلكت والموبايل منيو زي ما هو) ...
                        if ($.fn.niceSelect) { $(navbarPlaceholder).find('select').niceSelect('destroy').niceSelect(); }
                        const menuOpen = navbarPlaceholder.querySelector('.mobile-menu-open-7');
                        const menuClose = navbarPlaceholder.querySelector('.close-mobile-menu-7');
                        const overlay = navbarPlaceholder.querySelector('.overlay-7');
                        const sidebar = navbarPlaceholder.querySelector('.navbar-sidebar-7');
                        if (menuOpen && menuClose && overlay && sidebar) {
                             menuOpen.onclick = function(e) { e.preventDefault(); sidebar.classList.add('open'); overlay.classList.add('open'); };
                             menuClose.onclick = function(e) { e.preventDefault(); sidebar.classList.remove('open'); overlay.classList.remove('open'); };
                             overlay.onclick = function(e) { e.preventDefault(); sidebar.classList.remove('open'); overlay.classList.remove('open'); };
                        }
                    })
                    .catch(error => console.error('Error loading navbar:', error));
            }

            // --- 3. تحميل الفوتر ---
            const footerPlaceholder = document.getElementById("footer-placeholder");
            if (footerPlaceholder) {
                fetch('_footer.html')
                    .then(response => response.text())
                    .then(data => { footerPlaceholder.innerHTML = data; })
                    .catch(error => console.error('Error loading footer:', error));
            }

            // --- 4. ==== التعديل 4: كود الـ Grid/List بتاعك ==== ---
            try {
                const gridBtn = document.getElementById('grid-view');
                const listBtn = document.getElementById('list-view');
                const container = document.getElementById('product-container');
                // لازم نتأكد إننا بنختار المنتجات صح
                const products = document.querySelectorAll('.product-item-wrapper');

                if (gridBtn && listBtn && container && products.length > 0) {
                    
                    gridBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        gridBtn.classList.add('active');
                        listBtn.classList.remove('active');
                        container.classList.remove('list-view');
                        container.classList.add('grid-view');

                        products.forEach(prod => {
                            prod.classList.remove('col-12');
                            prod.classList.add('col-lg-6', 'col-md-6'); // صورتين في كل صف
                        });
                    });

                    listBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        listBtn.classList.add('active');
                        gridBtn.classList.remove('active');
                        container.classList.remove('grid-view');
                        container.classList.add('list-view');

                        products.forEach(prod => {
                            prod.classList.remove('col-lg-6', 'col-md-6');
                            prod.classList.add('col-12'); // منتج واحد في كل صف
                        });
                    });
                } else {
                    console.warn('Grid/List buttons or product container not found.');
                }
            } catch (e) {
                console.error("Error setting up Grid/List toggle: ", e);
            }

        }); // End of DOMContentLoaded
    </script>

</body>
</html>